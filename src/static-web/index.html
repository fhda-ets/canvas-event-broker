<!DOCTYPE html>
<html>
    <head>
        <title>Canvas-Banner Event Broker WS Test</title>
    </head>

    <body>
        Hello
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>

        <script type="text/javascript">
            // Define JWT token
            var jwtToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE0NzQ0ODk0OTQsImV4cCI6MTUwNjAyNTQ5NCwiYXVkIjoiMjAxMTY2NDYiLCJzdWIiOiIifQ.13dmXAbtkWD4OQay8YLzJaywn5cIQOFe6qFAspOEGS8';

            // Connect to Socket.IO service
            var socket = io.connect('http://localhost:8080', {
                'query': 'token=' + jwtToken
            });

            // Register a listener for failed authentication
            socket.on('error', function(error) {
                alert('Socket.io unauthorized - invalid JWT');
            });
        </script>
    </body>
</html>
